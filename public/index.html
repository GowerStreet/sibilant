<!DOCTYPE html> 
<html> 
  <head> 
    <link href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700|Anonymous+Pro"
          rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/screen.css"/>
    <title>Sibilant: Javascript with a lisp</title>
  </head>
  <body>
    <header>
      <h1>Sibilant: JavaScript with a Lisp</h1>
    </header>
    <a id="github"
    href="http://github.com/jbr/sibilant">github.com/jbr/sibilant</a> 
<article>


    <h3>Welcome!</h3>
    <p>
      Sibilant is a lisp-family language that compiles to readable and
      idiomatic JavaScript. Sibilant is built on a simple macro system
      that gives you compile-time control over the output JavaScript
      as well as providing tools to smooth over some of JavaScript's
      historical idiosynchracies.
    </p>
    <p>Here's an quick sample of sibilant code (shamelessly taken
    from coffeescript.org</p>

<textarea id="welcome">
(var number 42 opposite true)

(when opposite (assign number -42))

(def square (x) (* x x))

(var list [1 2 3 4 5])

(defhash math
  root Math.sqrt
  square square
  cube (#(x) (* x (square x))))

(def race (winner &rest runners)
  (print winner runners))

(when (exists? elvis) (alert "I knew it!"))
</textarea>









<h3>Numbers and Strings</h3>
<p>
  Numbers should look pretty familiar. Use commas to enhance
  readability.
</p>
<textarea>
[5 10.5 -100.5 10,000,000]
</textarea>
<p>
  Strings are surrounded by double quotes.  Multi-line strings are
  supported! Use a backslash to escape a double-quote inside of a
  string.
</p>
<textarea>
"this string is surrounded by
\"double quotes\"
and includes a line break"
</textarea>



<h3>Identifiers</h3>
<p>
Variable names may include letters,
the period (.) and the hyphen (-).
Lower case letters are idiomatic.
They may end with a question mark (?) or with a
bang (!). They may start with a sigil ($).
</p>
<textarea>
simple
multi-word-variable-name
is-this-thing-on?
save!
variable-number-5
$jquery
JSON
</textarea>

<h3>Quoting</h3>
<p>
  Sibilant supports single-word quoting with a leading single quote.
</p>
<textarea>
'this-is-a-multi-word-quote
'(a b c d e)
</textarea>

<h3>Objects and Arrays</h3>
<p>
  Objects and Arrays are supported as a proper subset of JSON.
</p>
<textarea>
{
  "string": "value",
  "number": 2,
  "array": [ 1, 2 ]
}
</textarea>
<p>
  Idiomatic sibilant skips any unnecessary commas and colons that do
  not contribute to readability
</p>
<textarea>{ color 'green }

[ 1 2 3 ]

{ key-1 5, key-2 10, key-3 15 }
</textarea>

<p>Arrays and objects contents are accessed with the get and set macros</p>
<textarea>
(var object {} array [ 1 2 3 ])
(set object 'log console.log)
(object.log (get array 1))
</textarea>

<h3>Defining variables</h3>
<p>
  Since sibilant is a tool for writing JavaScript, it exposes the var
  keyword with an identically named macro.
</p>

<textarea>
(var variable-name-1 'first-value
     variable-name-2 'second-value)
</textarea>
<p>To modify an existing variable (assignment), use the assign macro.</p>
<textarea>(assign a 1, b 2)</textarea>

<h3>Defining functions</h3>
<p>
  Sibilant avoids hoisiting by defining functions as variable by
  default.
</p>
<textarea>
(def alert-hello (planet-name)
  (var message (+ "hello " planet-name))
  (alert message)
  message)
</textarea>

<p>
  If your function name includes a dot, it will not be defined as a
  variable.
</p>
<textarea>(var my-object { value 10 })

(def my-object.method ()
  (set this 'value (+ this.value 10)))
</textarea>


<h3>Lambdas and Thunks</h3>
<p>
  Lambdas are how sibilant defines anonymous functions.
</p>
<textarea>
(fs.read-file "some/path"
  (lambda (error content)
    (if error
      (handle-error error)
      (handle-success content))))
</textarea>
<p>
  Because anonymous functions are is used so often in JavaScript,
  sibilant includes a shortcut to define lambdas, #.
</p>
<textarea>(array.map (#(item) (item.to-upper-case)))</textarea>
<p>
  Thunks are zero-arity lambdas (anonymous functions that accept no
  arguments). A shortcut for this is the #&gt; macro.
</p>
<textarea>
($ (thunk (alert "loaded!")))

($ "a#button" (click (#> (alert 'here))))
</textarea>

<h2>To be continued&hellip;<h2>
</article>

    <script src="/javascripts/jquery.js"></script> 
    <script src="/javascripts/jquery.scrollNav.min.js"></script>
    <script src="/javascripts/macros.sibilant" type="text/sibilant"></script> 
    <script src="/javascripts/sibilant.info.sibilant" type="text/sibilant"></script> 
    <script src="/javascripts/browser.js"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17635250-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
