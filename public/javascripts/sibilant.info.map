{"version":3,"sources":["/Users/jbr/code/sibilant/public/javascripts/sibilant.info.sibilant"],"names":[],"mappings":"AAAA;;AAIA,IAAK,SAAL,wBAAiB,IAAjB;AAAA;AAAA;AAAA,SAAuB,CAAS,UAAD,CAAY,IAAZ,CAAR,E,QAAA,CAAvB;AAAA,G;AAEA,IAAK,MAAL,qBAAa,QAAb,EAAsB,GAAtB;AAAA;AAAA;AAAA,EACK,IAAK,KAAL,GAAW;AAAA,IAAE,QAAF,EAAY,SAAD,CAAa,YAAD,EAAZ,CAAX;AAAA,IACE,GADF,EACO,SAAD,CAAa,QAAD,EAAZ,CADN;AAAA,GAAX,CADL;AAAA,S,CAIK,CAAI,YAAD,CAAc,GAAd,CAAH,EACI,GADJ,CACS,QADT,EACgB,CAAG,CAAI,QAAD,CAAU,cAAV,EAAyB,SAAzB,CAAH,CAAH,GAA4C,IAA5C,CADhB,CAJL;AAAA,G;CAOA,CAAG;AAAA;AAAA;AAAA,SACE,mBAAD,CACC;AAAA;AAAA;AAAA,IACC,IAAK,IAAL,mBAAW,IAAX;AAAA;AAAA;AAAA,aAAkB,YAAD,CAAc,K,MAAA,CAAO,aAAP,EAAsB,GAAtB,EAAd,EAAuC,EAAvC,CAAjB;AAAA,OADD;AAAA,I,CAGC,CAAI,UAAJ,EACI,IADJ,CACS,0BADT;AAAA,OAEI,KAFJ,C,CAEU,CAAG,QAAH,EAAa,IAAb,CAAkB,UAAlB,CAFV;AAAA,OAGI,KAHJ,CAGU;AAAA;AAAA;AAAA,QACC,IAAK,QAAL,G,CAAc,CAAG,IAAH,CAAd;AAAA,YACK,GADL,GACU,iBAAD,CAAoB,KAApB,CADT,CADD;AAAA,QAIC;AAAA,gBAAQ,CAAI,YAAD,CAAc,CAAd,CAAH,KAAoB,sBAApB,CAAR;AAAA,mBACS,YAAD,CAAe,IAAD,CAAO,YAAD,EAAN,CAAd,CADR;AAAA;AAAA,YAJD;AAAA,QAOC;AAAA;AAAA,mB,CAAK,CAAG,GAAH,EACI,IADJ,CACU,IAAD,CAAO,iBAAD,CAAoB,YAAD,EAAnB,CAAN,CADT;AAAA,eAEI,WAFJ,CAEkB,OAFlB,CAAL;AAAA;AAAA,mB,CAGK,CAAG,GAAH,EACI,IADJ,CACS,SADT;AAAA,eAEI,QAFJ,CAEe,OAFf,CAHL;AAAA;AAAA,YAPD;AAAA,eAcE,MAAD,CAAQ,QAAR,EAAiB,GAAjB,CAdD;AAAA,QAHV;AAAA,OAkBI,OAlBJ,CAkBa,OAlBb;AAAA,OAmBI,IAnBJ,CAmBS;AAAA;AAAA;AAAA,e,CAAI,CAAG,IAAH,EAAS,OAAT,CAAkB,OAAlB,CAAJ;AAAA,QAnBT;AAAA,OAoBI,IApBJ,EAHD;AAAA,W,CAyBC,CAAI,SAAJ,EAAa,SAAb,CAAwB,EAAE,SAAF,EAAa,IAAb,EAAxB,CAzBD;AAAA,IADD,CADD;AAAA,EAAH,C","sourcesContent":["(meta \"//# sourceMappingURL=/javascripts/sibilant.info.map\\n\")\n\n(chainable $)\n\n(def line-count (text) (length (text.split \"\\n\")))\n\n(def resize (textarea pre)\n     (var lines { textarea (line-count (textarea.val))\n                  pre (line-count (pre.text)) })\n\n     ($ (textarea.add pre)\n        (css 'height (+ (* (Math.max lines.textarea lines.pre)) 'em))))\n\n($ (#>\n    (sibilant.load-macros\n     (#>\n      (def trim (item) (item.replace (regex \"^\\\\s*|\\\\s*$\" 'g) \"\"))\n\n      ($ 'textarea\n         (wrap \"<div class=\\\"example\\\"/>\")\n         (after ($ \"<pre/>\" (text \"sibilant\")))\n         (keyup (#>\n                 (var textarea ($ this)\n                      pre (textarea.siblings 'pre))\n\n                 (unless (= (textarea.get 0) document.active-element)\n                         (textarea.val (trim (textarea.val))))\n\n                 (try ($ pre\n                         (text (trim (sibilant.sibilize (textarea.val))))\n                         (remove-class 'error))\n                      ($ pre\n                         (text e.message)\n                         (add-class 'error)))\n\n                 (resize textarea pre)))\n         (trigger 'keyup)\n         (blur (#> ($ this (trigger 'keyup))))\n         (show))\n      \n      ($ 'article (scroll-nav { title-text null }))))))\n\n\n\n"]}