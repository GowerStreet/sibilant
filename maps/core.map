{"version":3,"sources":["src/core.sibilant","/Users/jbr/code/sibilant/include/macros.sibilant"],"names":[],"mappings":"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","sourcesContent":[null,"(namespace core)\n\n(docs \"the simplest way to conditionally execute code.\"\n      tags [ conditional flow-control ]\n      example (ternary (< 50 100)\n         \"fifty is less than 100\"\n         \"fifty is more than 100\"))\n\n(macro ternary (cond if-true if-false)\n       [\"(\" (transpile cond) \") ? \"\n            (transpile if-true) \" : \"\n            (transpile if-false)])\n\n\n\n\n\n;; nodoc\n(macro set (arr ...kv-pairs)\n       (interleave \"\\n\" (bulk-map kv-pairs\n                                  (#(k v)\n                                    (as-statement [\"(\" (transpile arr) \")\"\n                                                    \"[\" (transpile k) \"] = \" (transpile v) ])))))\n;; nodoc\n(macro var (...pairs)\n       (as-statement\n        [\"var \"\n         (interleave \",\\n    \"\n               (bulk-map pairs\n                         (#(name value)\n                           [ (transpile name) \" = \" (transpile value) ])))\n         ]))\n\n;; nodoc\n(macro get (obj ...keys)\n       [\"(\" (transpile obj) \")\" (map keys (#(key)\n                                            [\"[\" (transpile key) \"]\"]))])\n\n\n\n\n\n(docs \"stores a duplicate copy of `current-macro-name` as\n`new-macro-name` in current namespace.  No output.\"\n      tags [macros])\n\n(macro alias-macro (current-macro-name new-macro-name)\n       (var current-macro-name (output-formatter (transpile current-macro-name))\n            new-macro-name (output-formatter (transpile new-macro-name)))\n       (set sibilant.macros.namespace\n            new-macro-name (get sibilant.macros.namespace current-macro-name))\n       null)\n\n\n\n\n\n(docs \"calls the `method` on `object` as a function with `args` as the arguments\"\n      tags [ functions ]\n      example (send object method first-argument second-argument third-argument))\n\n(macro send (object method ...args)\n       [(transpile object) \".\" (transpile method)\n               \"(\" (interleave \", \" (map args transpile)) \")\"])\n\n\n\n\n\n(docs \"calls the function `fn` with arguments passed as an array in `arglist`\"\n      tags [functions]\n      example (apply my-function [ first-arg second-arg third-arg ]))\n\n(macro apply (fn arglist)\n       '(.apply @fn this @arglist))\n\n\n\n\n(docs \"builds an array with `first` as the zeroth index and the\nelements provided by array `rest` as the subsequent elements, as\nsiblings with `first`.\"\n      tags [arrays collections deprecated]\n      example (cons 1 [ 2 3 4 ]))\n\n(macro cons (first rest)\n       [\"[ \" (transpile first) \" ].concat(\" (transpile rest) \")\"])\n\n\n\n\n(docs \"adds `additional` elements onto the right-side (tail) of `list`. deprecated\"\n      tags [ arrays collections deprecated ]\n      example (append [ 1 2 3 ] 4 5 6))\n(macro append (list ...additional)\n       '(.concat @list (list ...@additional)))\n\n\n(docs \"fetches length attribute from `arr`\"\n      tags [ arrays collections ]\n      example (length [ 1 2 3 ]))\n(macro length (arr)\n       '(get @arr 'length))\n\n(docs \"executes the `body` inside of a self-executing function. The\nlast statement/expression of the body is returned.\"\n      tags [functions]\n      examples [(scoped true) (scoped (var a 1) (+ a 2))])\n(macro scoped (...body)\n       '(.call (lambda @{node this args []} ...@body) this))\n\n;;nodoc\n;; (macro *number-words (...number-words)\n;;        (.reduce number-words\n;;              (#(accumulator word index)\n;;                (accumulator.concat\n;;                     [\n;;                      `(docs @(\"fetches the \"\n;;                               (output-formatter (transpile word))\n;;                               \" element from `arr`\")\n;;                             tags [arrays collections]\n;;                             example (@word my-array))\n;;                       `(macro @word (arr)\n;;                               (var index @index)\n;;                               `(get @arr @index))\n;;                       ]))\n;;              []))\n;; (*number-words first second third fourth fifth sixth seventh eighth ninth)\n\n(macro first (arr) `(get @arr 0))\n(macro second (arr) `(get @arr 1))\n(macro third (arr) `(get @arr 2))\n\n\n(docs \"fetches all but the first item of `arr`\"\n      tags [arrays collections]\n      example (rest [ 1 2 3 ]))\n(macro rest (arr) '(.slice @arr 1))\n\n(docs \"fetches just the last element of `arr` by slicing.\"\n      tags [arrays collections]\n      example (last [ 1 2 3 ]))\n(macro last (arr) '(first (.slice @arr -1)))\n\n;;nodoc\n(macro = (a b) [ (transpile a) \" === \" (transpile b) ])\n\n(docs \"adds `args` using the javascript `+` operator. Since javascript\noverloads this for string concatenation, this macro can be used for\nthis as well.\"\n      tags [ strings numbers ]\n      examples [ (+ 1 2 3) (+ 'hello 'world) ])\n(macro +   (...args)\n       [\"(\" (interleave \" + \" (map args transpile)) \")\"])\n\n\n(docs \"subtracts each subsequent element of `args`\"\n      tags [numbers]\n      examples [ (- 2 1) (- 10 5 1) ])\n(macro -   (...args)\n       [\"(\" (interleave \" - \" (map args transpile)) \")\"])\n\n(docs \"multiplies elements of `args`\"\n      tags [numbers]\n      example (* 3 4 5))\n(macro *   (...args)\n       [\"(\" (interleave \" * \" (map args transpile)) \")\"])\n\n(docs \"divides each subsequent element of `args`\"\n      tags [numbers]\n      examples [ (/ 1 2)\n                 (/ 1 2 3) ])\n(macro /   (...args)\n           [\"(\" (interleave \" / \" (map args transpile)) \")\"])\n\n\n(docs \"short circuiting operator returns the first element of `args` that evaluates to be truthy\"\n      tags [ conditional flow-control booleans ]\n      example (or (= 1 2) (string? []) \"one is not two and an array is not a string\"))\n(macro or  (...args)\n       [\"(\" (interleave \" || \" (map args transpile)) \")\"])\n\n\n(docs \"returns the last element if all elements of `args` are truthy, or the\nfirst non-truthy element if it exists\"\n      tags [ booleans ]\n      example (and (string? \"string\") (number? 10) (= 1 1)))\n(macro and (...args)\n       (ternary (= 1 (length args)) (transpile (first args))\n                [\"(\" (interleave \" && \" (map args transpile)) \")\"]))\n\n(docs \"modulus operator\"\n      tags [numbers]\n      example (mod 10 2))\n(macro mod (...args)\n       [\"(\" (interleave \" % \" (map args transpile)) \")\"])\n\n\n\n\n\n\n;; (macro *def-infix (macro-name word js-comparator)\n;;        (var docstring (\"compares `args` from left to right, \"\n;;                        \"returning true if each element is \"\n;;                        (.slice word.token 1 -1)\n;;                        \" than the next\"))\n\n;;        (var js-comparator (or js-comparator macro-name))\n\n;;        [\n;;         `(docs @docstring\n;;                tags [comparison]\n;;                examples [ (@macro-name a b c) (@macro-name a b) ])\n         \n;;          `(macro @macro-name (...args)\n;;                  (var js-comparator (quote @js-comparator))\n;;                  `(and ...@(map (args.slice 0 -1)\n;;                                 (#(item index)\n;;                                   [ item \" \" js-comparator \" \"\n;;                                     (get args (+ 1 index)) ]))))\n;;          ])\n\n;; (*def-infix > \"greater than\")\n;; (*def-infix <  \"less than\")\n;; (*def-infix <= \"less than or equal\")\n;; (*def-infix >= \"greater than or equal\")\n;; (*def-infix != \"not equal (using threequals)\" !==)\n;; (*def-infix = \"equal (using threequals)\" ===)\n\n(macro > (...args)\n       (var js-comparator \">\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n\n\n(macro < (...args)\n       (var js-comparator \"<\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n\n(macro <= (...args)\n       (var js-comparator \"<=\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n\n(macro >= (...args)\n       (var js-comparator \">=\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n(macro != (...args)\n       (var js-comparator \"!==\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n\n(macro = (...args)\n       (var js-comparator \"===\")\n       `(and ...@(map (args.slice 0 -1)\n                      (#(item index)\n                        [ item \" \" js-comparator \" \"  (get args (+ 1 index)) ]))))\n\n\n(docs \"increments `item` by `increment`\"\n      tags [numbers]\n      example (incr-by n 5))\n(macro incr-by (item increment)\n       [ (transpile item) \" += \" (transpile increment)])\n\n\n\n\n(docs \"increments item by 1\",\n      tags [numbers],\n      example (incr i))\n(macro incr (item)\n       [\"((\" (transpile item) \")++)\"])\n\n\n(docs \"decrements item by 1\",\n      tags [numbers],\n      example (decr i))\n(macro decr (item) [\"((\" (transpile item) \")--)\"])\n\n(docs \"uses the javascript new keyword to construct an object using\n      `constructor`, with `args` passed as arguments to the constructor.\"\n      tags [functions]\n      example (new RegExp \"hello\" 'g))\n\n(macro new (constructor ...args)\n       [\"(new \" '(call @constructor ...@args) \")\"])\n\n\n\n(docs \"builds a regex using `pattern` and `flags` as arguments to the RegExp constructor\"\n      tags [regex]\n      examples [ (regex \"[0-9]+\") (regex \"0x[0-9a-f]+\" 'i)])\n(macro regex (pattern flags)\n       '(new RegExp @pattern @(or flags 'undefined)))\n\n\n\n(docs \"predicate to test for equality with zero\"\n      tags [numbers]\n      example: (zero? n))\n(macro zero? (item) '(= @item 0))\n\n\n(docs \"returns true if the array `arr` has a length of zero\"\n      tags [arrays collections]\n      example: (empty? []))\n(macro empty? (arr)\n       `(= 0 (length @arr)))\n\n\n(docs \"returns true if `number` is not divisible by 2\"\n      tags [numbers]\n      example (odd? 5))\n(macro odd? (number)\n       '(= 1 (mod @number 2)))\n\n\n(docs \"returns true if `number` is divisible by 2 with no remainder\"\n      tags [numbers]\n      example (even? 10))\n(macro even? (number)\n       '(= 0 (mod @number 2)))\n\n\n(docs \"exposes the javascript typeof operator. most often, predicates\nsuch as `string?`, `function?`, `number?`, etc are preferred.\"\n      tags [type]\n      example: (typeof 5))\n(macro typeof (thing) [\"typeof \" (transpile thing)])\n\n\n(docs \"returns true if all of the `things` are javascript strings\"\n      tags [strings type]\n      examples: [ (string? test-object) (string? 'yes 'yes 'yes) ])\n(macro string? (...things)\n       '(and ...@(map things (#(thing) '(= (typeof @thing) 'string)))))\n\n\n(docs \"returns true if all of the `things` are functions\"\n      tags [functions type]\n      examples: [ (function? fn) (function? err cb) ])\n(macro function? (...things)\n       '(and ...@(map things (#(thing) '(= (typeof @thing) 'function)))))\n\n\n(docs \"returns true if all of the `things` are undefined, as tested\nwith `typeof`, not equality with literal undefined. This is the\ninverse of `defined?`\"\n      tags [type]\n      examples: [ (undefined? argument)\n                  (undefined? 1 2 undefined) ])\n(macro undefined? (...things)\n       '(and ...@(map things (#(thing) '(= (typeof @thing) 'undefined)))))\n\n\n(docs \"returns true if none of the `things` are undefined, as tested\nwith `typeof`. This is the inverse of `defined?`\"\n      tags [type]\n      examples: [ (defined? variable)\n                  (defined? var1 var2 var3) ])\n(macro defined? (...things)\n       '(and ...@(map things (#(thing) '(!= (typeof @thing) 'undefined)))))\n\n\n(docs \"returns true if all of the `things` are numbers, as tested\nwith `typeof`\"\n      tags [numbers type]\n      examples: [ (number? 1) (number? 1 2 3) ])\n(macro number? (...things)\n       '(and ...@(map things (#(thing) '(= (typeof @thing) 'number)))))\n\n\n;;nodoc\n(macro if (arg truebody falsebody)\n       [\"(function() {\"\n        (indent [\"if (\" (transpile arg) \") {\"\n                        (indent '(do ...@truebody))\n                        \"} else {\"\n                        (indent '(do ...@falsebody))\n                        \"}\"])\n         \"}).call(this)\"])\n\n\n(docs \"inserts the result of each subsequent call in `calls` as the\nsecond argument to the next macro. This is very much akin to clojure's\nthread-first arrow or elixir's pipe operator.  Advanced: in order to\nthread the preceding topic into a position other than the second\nposition, use the character `#` to specify topic position\"\n      tags [language]\n      examples: [\n(pipe \"a b c d\"\n      .to-upper-case\n      (.replace \"A\" \"X\")\n      (.split \" \")\n      first\n      (concat \" marks the spot\"))\n\n(pipe \"{\\\"a\\\": {\\\"b\\\": [ 1, 2, 3 ]}}\"\n      JSON.parse\n      (get 'a)\n      JSON.stringify)\n\n(pipe 3 (+ 1) (var a #))\n]\n     references: [ \"https://clojuredocs.org/clojure.core/-%3E\"\n                   \"http://elixir-lang.org/docs/v1.0/elixir/Kernel.html#|>/2\" ])\n(macro pipe (...calls)\n       (inject undefined calls\n               (#(value item)\n                 (if (undefined? value) item\n                     (scoped\n                      (var cloned (if (node? item 'literal 'dots)\n                                      `(@item)\n                                      (clone item)))\n\n                      (var placeholder (detect cloned.contents\n                                               (#(node)\n                                                 (and (node? node 'other-char)\n                                                      (= \"#\" node.token))))\n                           placeholder-index (cloned.contents.index-of placeholder)\n\n                           placeholder-boundaries (if placeholder\n                                                      [ placeholder-index (+ 1 placeholder-index) ]\n                                                      [ 1 1 ]))\n\n                      (merge-into cloned\n                                  { contents [ ...(cloned.contents.slice 0 (first placeholder-boundaries))\n                                               value\n                                               ...(cloned.contents.slice (second placeholder-boundaries)) ] }))))))\n\n(alias-macro pipe |>)\n\n\n(docs \"inserts `contents` transpiled to javascript as a comment in the\noutput file, removing it from execution.\"\n      tags [language]\n      example (comment (scoped 1)))\n(macro comment (...contents)\n       (map contents (#(content)\n                       [\"// \"(recurse-map (transpile content)\n                                    (#(item)\n                                      (ternary item\n                                               (pipe item transpile output-formatter\n                                                     (.replace (regex \"\\n\" 'g) \"\\n// \"))\n                                               null)))])))\n\n\n;; (docs \"checks if `first-thing` is equal to all of the `other-things`.\n;; Most of the time, there is only one other thing. Javascript threequals\n;; is always used.  Please note that if evaluating `first-thing` has\n;; side-effects, they will be called `(length other-things)` times.\"\n;;       examples [ (= 1 2)\n;;                  (= 10 (+ 5 5) (- 15 5)) ])\n\n\n(docs \"returns true if `thing` is an array in javascript. aliased as\n`list?`.\"\n      tags [type arrays]\n      example: (array? arr))\n\n(macro array? (thing)\n       (var transpiled (transpile thing))\n       [\"((\" transpiled \") && typeof (\" transpiled \") === \\\"object\\\" && (\"\n               transpiled \").constructor.name === \\\"Array\\\")\"])\n(alias-macro array? list?)\n\n\n(docs \"returns true if `thing` is an object that is not an array in javascript. aliased as\n`object?`.\"\n      tags [type objects]\n      example: (object? arr))\n\n(macro hash? (thing)\n       `(and (= 'object (typeof @thing))\n             (!= @thing null)\n             (!= (get @thing 'constructor 'name) 'Array)))\n(alias-macro hash? object?)\n\n(macro *scoped-without-return (...body)\n       [\"(function() {\" (indent ...body) \"}).call(this)\"])\n\n\n(macro *scoped-without-source (...body)\n       `(*scoped-without-return (do ...@body)))\n\n\n(docs \"evaluates statements in `body` if `condition` is true. `body`\n      is `scoped` in a self-evaluating function to support having a\n      return value from the if statement.\"\n      tags [ conditional flow-control language ]\n      example: (when (< 3 i) (console.log i) (get arr i)))\n\n(macro when (condition ...body)\n       (^*scoped-without-return\n         \"if (\" @condition \") {\"\n         (indent `(do ...@body))\n         \"}\"))\n\n\n(docs \"boolean negation, as determined by javascript truthiness\"\n      tags [booleans]\n      example: (not (string? 1))\n      references: [ \"https://developer.mozilla.org/en-US/docs/Glossary/Truthy\"\n                    \"https://developer.mozilla.org/en-US/docs/Glossary/Falsy\" ])\n(macro not (exp)\n       [\"!(\" (transpile exp) \")\"])\n\n\n\n\n\n(docs \"evaluates statements in `body` if `condition` is falsy. `body`\n      is `scoped` in a self-evaluating function to support having a\n      return value from the if statement.\"\n      tags [conditional flow-control]\n      example: (unless (< 3 i) (console.log i) (get arr i)))\n\n(macro unless (condition ...body)\n       [\"(function() {\"\n        (indent [\"if (\" '(not @condition) \") {\"\n                        (indent '(do ...@body))\n                        \"}\"])\n        \"}).call(this)\"])\n\n;;nodoc\n(macro assign (...args)\n       (interleave \"\\n\"\n             (bulk-map args (#(name value)\n                              (as-statement [ (transpile name) \" = \"\n                                                    (transpile value)])))))\n\n\n\n(docs \"outputs debug information about `arg`.  If `label` is\nomitted (only one argument is provided), the name of the variable or\nexpression of that first expression will be logged. Aliased as `pretty-log`\"\n      tags [language]\n      examples: [ (log-pretty 'my-label value)\n                  (log-pretty (+ 1 2)) ])\n(macro log-pretty (label arg)\n       (var node this)\n       (when (undefined? arg)\n             (assign arg label\n                     label [\"\\\"\" (prettify label false) \"\\\"\"]))\n       `(console.log (concat @[\"\\\"\" node.file \":\" node.line \"\\\"\"] \" \" @label \" = \" (prettify @arg))))\n(alias-macro log-pretty pretty-log)\n\n(docs \"iterates over `array`, evaluating `body` once for each value in\n`array`.  If `item` is a literal name, that will be the variable into\nwhich the `array` element is yielded (current value).  If `item` is an expression, it\ncan contain the current value, the index, and the `array`.\"\n      tags [ arrays language collections ]\n      references [\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\"]\n      examples [ (each number [ 1 2 3 ] (console.log number))\n                 (each (letter index) `[ a b c d ]\n                       (set letters letter index)\n                       (pipe letter (.to-upper-case) (console.log))) ])\n                \n(macro each (item array ...body)\n       '(.for-each @array\n                   (lambda @{ node this\n                              args (if (node? item 'expression) item [item]) }\n                           ...@body)))\n\n\n\n\n\n\n\n\n;;nodoc\n;;deprecated\n(macro macro-expand (name)\n       (var macro (get macros (output-formatter (transpile name))))\n       (if macro\n           (macro.to-string)\n           \"undefined\"))\n\n\n\n\n(docs \"throws a new javascript error with arguments as the string\"\n      tags [language]\n      example (throw (new Error \"could not find matching socks\")))\n\n(macro throw (error)\n       [\"throw \" (transpile error)])\n\n\n\n\n\n(docs \"double-negates `expr`, converting it to a boolean\"\n      tags [type booleans]\n      examples: [ (as-boolean 0)\n                  (as-boolean true) ])\n(macro as-boolean (expr)\n       [\"(!!(\" (transpile expr) \"))\"])\n\n\n;;nodoc because this needs attention\n;;todo\n(macro try (tryblock catchblock)\n       [\"(function() {\"\n        (indent [\"try {\"\n                 (indent '(do @tryblock))\n                 \"} catch (e) {\"\n                 (indent '(do @catchblock))\n                 \"}\"])\n         \"}).call(this)\"])\n\n\n\n\n\n;; (docs \"sets or gets sibilant state. If one arg is provided, this macro\n;; gets the value.  If more than two args are provided, sibilant state is\n;; set in pairs.  deprecated. internal.\")\n\n(macro state (...pairs)\n       (if (= 1 (length pairs))\n           (get sibilant.state (output-formatter (transpile (first pairs))))\n           (do (bulk-map pairs (#(k v) (set sibilant.state (output-formatter (transpile k)) (eval (output-formatter (transpile v))))))\n               null)))\n\n\n;;nodoc\n;;internal\n(macro symbol ()\n       (var symbol-count (or (get sibilant.state 'symbol-count) 0)\n            new-symbol-count (+ 1 symbol-count))\n       (^state 'symbol-count new-symbol-count)\n       [(\"$_symbol\" new-symbol-count \"_$\")])\n\n\n\n\n\n(docs \"evaluates the `body` as long as `condition` is truthy,\nreturning the value of the last expression in `block` when `condition`\nceases to be truthy. See also `until`\"\n      tags [loops flow-control]\n      example: (while (> 5 i) (console.log i) (decr i)))\n(macro while (condition ...body)\n       (var symbol (^symbol))\n       '(*scoped-without-source\n         (var @symbol)\n         @{ type 'output\n               contents [\"while (\" (transpile condition) \") {\"\n                          (indent '(assign @symbol (*scoped-without-source ...@body)))\n                          \"}\"] }\n         @symbol))\n\n\n\n\n(docs \"evaluates the `body` as long as `condition` is falsy,\nreturning the value of the last expression in `block` when `condition`\nceases to be falsy. See also `while`\"\n      tags [loops flow-control]\n      example: (until (< 5 i) (console.log i) (incr i)))\n\n(macro until (condition ...body)\n       '(while (not @condition) ...@body))\n\n\n\n\n(docs \"returns true if the `string` matches `regexp`.  Deprecated in\n      preference to `.match` (`send` dot-invocation).\"\n      tags [regex strings]\n      example: (match? (regex \"^[a-z]+$\" 'i) 'word))\n(macro match? (regexp string)\n       '(.match @string @regexp))\n\n(docs \"similar to `match?` but builds a regex out of the `pattern` and `flags`.\"\n      tags [regex strings]\n      example (match-regex? 'word \"^[a-z]+$\" 'i))\n(macro match-regex? (string pattern flags)\n       '(match? (regex @pattern @flags) @string))\n\n\n(docs \"replaces the first occurance of `pattern` (as a regex) with `replacement`\"\n      tags [regex strings]\n      example: (replace \"hello world\" \"l+o\" \"y there,\"))\n(macro replace (string pattern replacement)\n       '(.replace @string\n              (regex @pattern)\n              @replacement))\n\n(docs \"replaces all occurrances of `pattern` (as a regex) with `replacement`\"\n      tags [regex strings]\n      example: (replace-all \"503-555-1212\" \"[0-9]\" \"#\"))\n(macro replace-all (string pattern replacement)\n       '(.replace @string (regex @pattern 'g) @replacement))\n\n\n\n\n\n\n(docs \"most often called as its alias, `#>`, thunk creates a function\nwith no named arguments. To refer to arguments anonymously, use #n,\nsuch as #0 for the first argument.\"\n      tags [functions language]\n      examples: [ (.map [ 1 2 3 ] (#> (+ 1 #0)))\n                  (window.set-timeout (#> (console.log 'here)) 10) ])\n(macro thunk (...body)\n       (var node this\n            lambda-options { node node args [] })\n\n       (when (not (node? (first body)))\n             (merge-into lambda-options (first body))\n             (assign body (rest body)))\n\n       '(lambda @lambda-options\n       ...@(map-node body\n                 (#(node)\n                   (if (node? node 'arg-placeholder)\n                       '(argument @(replace node.token \"^#\" \"\"))\n                       node)))))\n(alias-macro thunk #>)\n\n\n\n\n\n(docs \"most often called as its alias, `#->`, pipe-thunk applies a pipe chain to the argument of a function and returns the result\"\n      tags [functions language]\n      examples [ (.map `[ a b c ] (#-> (.to-upper-case) (concat \" is a letter\"))) ])\n(macro pipe-thunk (...calls) `(thunk @{ node this } (pipe #0 ...@calls)))\n(alias-macro pipe-thunk #->)\n\n\n\n\n\n\n(docs \"returns the property names of `obj`.\"\n      tags [objects collections]\n      references: [ \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" ]\n      example (keys { a 1 b 2 }))\n(macro keys (obj)\n       '(Object.keys @obj))\n\n\n\n\n\n\n(docs \"uses the javascript delete keyword on any number of `objects`.\n      Use in conjunction with `get` or dotted literal notation (a.b).\"\n      tags [objects collections]\n      examples [ (delete object.a object.b)\n                 (delete (get object attribute) (get object \"other attribute\")) ])\n(macro delete (...objects)\n       (interleave \"\\n\" (map objects (#(obj)\n                                 (as-statement [\"delete \" (transpile obj)])))))\n\n\n\n\n\n\n\n(docs \"deletes each macro name in `macro-names` from the current namespace. Use carefully\"\n      tags [macros language])\n(macro delete-macro (...macro-names)\n       (each macro-name macro-names\n             (delete (get sibilant.macros.namespace (output-formatter (transpile macro-name)))))\n       null)\n(alias-macro delete-macro delmacro)\n\n\n\n\n\n\n(docs \"moves macro from `current-macro-name` to `new-macro-name`. Use carefully\"\n      tags [macros language])\n(macro rename-macro (current-macro-name new-macro-name)\n       (^alias-macro current-macro-name new-macro-name)\n       (^delete-macro current-macro-name)\n       null)\n\n\n\n\n\n\n\n\n(docs \"transforms function arguments into an array, using the Array prototype's slice\"\n      tags [functions]\n      example (arguments))\n(macro arguments ()\n       [\"(Array.prototype.slice.apply(arguments))\"])\n\n\n\n\n\n\n\n(docs \"`get`s the argument at `index` in the current function context. Inside of a `thunk` (`#>`), this can be abbreviated with `#n`, where `n` is the argument index.\"\n      tags [functions]\n      example (argument 3))\n(macro argument (index)\n       '(get arguments @index))\n\n\n\n\n(docs \"iterates over each attribute in `obj`\"\n      tags [objects collections]\n      example (each-key key { a 1 b 2 } (console.log key)))\n(macro each-key (as obj ...body)\n       `(pipe @obj (keys)\n              (.for-each (lambda @{ args: (if (node? as 'expression) as [as])\n                                    node: this }\n                                 ...@body))))\n\n\n\n\n\n\n\n(docs \"uses the javascript switch construction to test equality.  documentation todo: needs better description\"\n      tags [flow-control conditional deprecated]\n      examples: [\n                 (switch char\n                         ('a \"it was an a\")\n                         ('b (console.log \"found a b!\")\n                             \"it was a b\")\n                         ([1 2 3 4 5] \"it was an integer from one to five\")\n                         (default \"not sure\"))\n                 ])\n\n(macro switch (obj ...cases)\n       [\"(function() {\"\n         (indent [\"switch(\" (transpile obj) \") {\"\n                   (map cases (#(case-def)\n                                (var case-name-node (first case-def.contents)\n                                     case-labels (if (node? case-name-node 'expression 'bracket)\n                                                     case-name-node.contents\n                                                     [case-name-node])\n                                     case-string (interleave \"\\n\"\n                                                             (map case-labels (#(c)\n                                                                                (if (= 'default c.token)\n                                                                                    \"default:\"\n                                                                                    [\"case \" (transpile c) \":\"])))))\n                                [\"\\n\" case-string (indent '(do ...@(rest case-def.contents)))]))\n                   \"}\"])\n         \"}).call(this)\"])\n\n\n\n\n\n\n\n\n\n\n\n(docs \"tests any number of `alternating-conditions-and-branches`.  If\n      an odd number of branches are supplied, the final branch is a\n      default else clause.  To evaluate more than one expression as a\n      branch, use the `do` macro, as shown in the examples:\"\n      tags [conditional flow-control]\n      examples [ (if true (console.log 'here))\n                 (if (= 1 arguments.length) (console.log \"one argument\")\n                     (= 'blue favorite-color) (console.log \"blue\")\n                     (assign examples 'difficult))\n                 (if (foo?) (do (a b)\n                                (c))\n                     (bar?) (do (baz)\n                                (wibble))\n                     (do (d e)\n                         (console.log 'default))) ])\n\n\n\n(macro if (...alternating-conditions-and-branches)\n       [\"(function() {\"\n        (indent\n         (interleave \" else \"\n               (bulk-map alternating-conditions-and-branches\n                         (#(cond val)\n                           (if (!= (typeof val) 'undefined)\n                                 [\"if (\" (transpile cond) \") {\"\n                                   (indent '(do @val))\n                                   \"}\"]\n                                 [\"{\" (indent '(do @cond)) \"}\"])))))\n        \"}).call(this)\"])\n\n\n\n\n\n\n\n\n\n\n\n\n;; (docs \"similar to `pipe`, this macro allows function calls to be applied\n;; in sequence, as is common in fluent interfaces. deprecated in preference to `pipe`\"\n;;       tags [deprecated language]\n;;       example (chain a (b c d) (e) (f g)))\n\n(macro chain (object ...calls)\n       (console.log \"DEPRECATION WARNING: DO NOT USE CHAIN\")\n       (console.log (\"  \" this.file \":\" this.line \":\" this.col))\n       (if (= 0 calls.length) (transpile object)\n           (= 1 calls.length) '(send @object ...@(get (first calls) 'contents))\n           (do\n            (var lines (map calls (#(call index)\n                                    [\".\" (transpile (first call.contents))\n                                         \"(\" (interleave \", \" (map (rest call.contents) transpile)) \")\"])))\n\n            [ (transpile object)\n              (first lines)\n              \"\\n  \"\n              (recurse-indent\n               (interleave \"\\n\" (rest lines)))])))\n\n\n\n\n\n\n\n(docs \"uses the javascript `instanceof` operator to check if `item` is of `type`.\"\n      tags [language type]\n      example (instance-of? (new Date) Date))\n(macro instance-of? (item type)\n       [\"(\" (transpile item) \" instanceof \" (transpile type) \")\"])\n\n\n\n\n\n\n(docs \"returns true if `haystack` includes `needle`.  `haystack` can be a string or array/list.\"\n      tags [arrays collections]\n      examples [ (includes? 'hello 'h) (includes? `[ Veni vidi vici] 'vidi) ])\n(macro includes? (haystack needle)\n       '(pipe @haystack (.index-of @needle) (!= -1)))\n\n\n\n\n\n\n\n(docs \"returns true if `haystack` does NOT include `needle`.\n`haystack` can be a string or array/list\"\n      tags [arrays collections]\n      examples [ (excludes? 'hello 10) (excludes? `[ Veni vidi vici] 'attenti) ])\n(macro excludes? (haystack needle)\n       `(pipe @haystack (.index-of @needle) (= -1)))\n\n\n\n\n\n\n(docs \"similar to the javascript truthiness predicate `as-boolean`, returns true unless the `thing` is undefined or null\"\n      tags [type]\n      example (exists? window))\n(macro exists? (thing)\n       `(and (defined? @thing) (!= @thing null)))\n\n\n\n\n\n(macro with-state (k v ...body)\n       (var before (^state k))\n       (^state k v)\n       (var return-value\n            (interleave \"\\n\" (map body transpile)))\n       (^state k before)\n       return-value)\n\n\n\n\n\n\n(docs \"combines elements of array `arr` into a string, inserting\n`glue` string between each element.  if `glue` is omitted (only one\nargument provided), the elements of `arr` are joined with an empty\nstring\"\n\n      tags [arrays collections strings]\n      examples [ (join `[ a few words ]  \", \" )\n                 (join `[ several more words ]) ])\n\n(macro join (arr glue)\n       (if (and (defined? glue) (undefined? arr))\n           (assign arr glue glue undefined))\n       `(.join @arr @(or glue \"\\\"\\\"\")))\n\n\n\n\n(macro *destructure (pairs)\n     (var destructured [])\n     (bulk-map pairs (#(lhs rhs)\n                       (var transpiled-rhs (transpile rhs))\n                       (switch lhs.type\n                               ('bracket\n                                (var literal-rhs? (|> transpiled-rhs (output-formatter) (match-regex? \"^[\\._a-zA-Z0-9]+$\"))\n                                     source (if literal-rhs?\n                                                transpiled-rhs\n                                                (do                             \n                                                 (var symbol (^symbol))\n                                                 (destructured.push [symbol transpiled-rhs])\n                                                 symbol)))\n                                (each (item index) lhs.contents\n                                      (destructured.push [(transpile item) '(get @source @index)]))\n                                (unless literal-rhs?\n                                        (destructured.push [source 'undefined])))\n                               ('brace\n                                (var literal-rhs? (|> transpiled-rhs (output-formatter) (match-regex? \"^[\\._a-zA-Z0-9]+$\"))\n                                     source (if literal-rhs?\n                                                transpiled-rhs\n                                                (do                             \n                                                 (var symbol (^symbol))\n                                                 (destructured.push [symbol transpiled-rhs])\n                                                 symbol)))\n                                (each (item index) lhs.contents\n                                      (var tr-item (transpile item))\n                                      (destructured.push [tr-item '(get @source @[\"\\\"\" tr-item \"\\\"\"])]))\n                                (unless literal-rhs?\n                                        (destructured.push [source 'undefined])))\n\n                               (default\n                                (destructured.push [ (transpile lhs)\n                                                     (if rhs transpiled-rhs 'undefined)])))))\n     destructured)\n\n(docs \"registers variables in `pairs` inside of the current scope using the javascript var keyword.\ndestructuring from arrays and objects is also supported, as shown in the examples\"\n      tags [ variables language ]\n      examples: [ (var a 1 b 2)\n                  (var a [ 1 2 3 ] [ b c d ] a)\n                  (var a)\n                  (var { log dir } console)\n                  (var {a} {a 1 b 2} c 3)\n                  (var a 1 [b c] [2 3]) ])\n\n(macro var (...pairs)\n       (as-statement\n        [\"var \" (|> pairs\n                    (^*destructure)\n                    (map (#(pair) [(first pair) \" = \" (second pair)]))\n                    (interleave \",\\n    \")) ]))\n\n\n\n\n(docs \"assigns alternating keys and values in `args`.  This works much\nlike `var`, but without the var keyword.  It is important to\nunderstand variable scope in javascript in order to use this macro safely.\nThis macro supports destructuring, as shown in examples\"\n      tags [language variables]\n      examples [ (assign a 1)\n(assign a 1 b 2)\n(assign [ a b ] [ 1 2 ])\n(assign [ a b ] c)\n(assign { a b } c\n        [ x y ] a)])\n\n(macro assign (...pairs)\n        (|> pairs\n            (^*destructure)\n            (map (#(pair) (as-statement [(first pair) \" = \" (second pair)])))\n            (interleave \"\\n\")))\n\n\n(docs \"sets default values for variables in current scope. `pairs` are\nalternating variable names and default values\"\n      tags [variables language]\n      example (default a 10 b 20))\n(macro default (...pairs)\n       (interleave \"\\n\" (bulk-map pairs (#(name value)\n                                  '(assign @name (ternary (defined? @name) @name @value))))))\n\n\n(macro import-namespace (namespace)\n       (var namespace-as-string (output-formatter (transpile namespace)))\n       (unless (sibilant.macros.namespaces.has-own-property namespace-as-string)\n               (set sibilant.macros.namespaces namespace-as-string {}))\n       (sibilant.macros.search-path.unshift namespace-as-string)\n       undefined)\n\n\n(macro namespace (namespace)\n       (^core/import-namespace namespace)\n       (set sibilant.macros 'namespace\n            (get sibilant.macros.namespaces (output-formatter (transpile namespace))))\n       undefined)\n\n\n\n\n\n\n(docs \"checks if `object` has property `key`.  returns true or false.\"\n      tags [collections objects]\n      example (has-key? object 'a))\n\n(macro has-key? (object key)\n       `(.has-own-property @object @key))\n\n\n\n\n\n\n\n(docs \"retreives object properties, potentially deeply. If more than one `keys` are provided,\n`get` fetches deeply into nested objects or arrays.\nWhen javascript dot notation can be used (`a.b = 3`), it is.\nOtherwise, bracket notation is used.\"\n      tags [collections objects]\n      examples [ (get an-object 'static-attribute-name)\n                 (get object dynamic-attribute-name)\n                 (get object \"these attributes\" \"can't be dotted\")\n                 (get array 0)\n                 (get object 'a 'b c)\n                 (get array 0 1 2) ])\n\n\n(macro get (obj ...keys)\n       [(transpile obj)\n         (map keys (#(key)\n                     (var transpiled (transpile key)\n                          output (output-formatter transpiled))\n\n                     (if (match-regex? output \"^\\\"[a-zA-Z0-9]+\\\"$\")\n                         [\".\" (replace-all output \"\\\"\" \"\") ]\n                         [\"[\" transpiled \"]\"])))])\n\n\n\n\n\n\n\n\n\n\n(docs \"assigns object properties to `arr` in pairs, alternating between keys and values.\nWhen javascript dot notation can be used (`a.b = 3`), it is.  Otherwise, bracket notation is used\"\n      tags [collections objects]\n      examples [ (set an-object 'static-attribute-name 'value)\n                 (set object dynamic-attribute-name \"key name determined at runtime\")\n                 (set array 0 \"first element of array\")\n                 (set object \"can't be dotted\" 'value)\n                 (set object 'first-attribute 'first-value\n                      'second-attribute 'second-value) ])\n\n(macro set (arr ...kv-pairs)\n       (interleave \"\\n\" (bulk-map kv-pairs (#(k v) `(assign (get @arr @k) @v)))))\n\n(docs \"checks if a string is identical to the lower-cased version of itself\"\n      tags [strings]\n      example (lower-case? \"abc\"))\n(macro lower-case? (str)\n       `(= (.to-lower-case @str) @str))\n\n\n\n(docs \"checks if a string is identical to the upper-cased version of itself\"\n      tags [strings]\n      example (lower-case? \"abc\"))\n(macro upper-case? (str)\n       `(= (.to-upper-case @str) @str))\n\n\n(docs \"inserts a pragma for source-mapping-url\"\n      tags []\n      example (source-mapping-url \"/example.map\"))\n\n(macro source-mapping-url (url)\n       [ \"//# sourceMappingURL=\" (|> url transpile output-formatter eval) \"\\n\" ])\n\n\n(docs \"sorts `array-of-objects` by `attribute` using locale-compare\"\n      tags [collections objects arrays experimental]\n      example (|> [ {state 'ca} {state 'or} {state 'ny} ] (sort-by 'state))\n      references [\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\"])\n\n(macro sort-by (array-of-objects attribute)\n       `(.sort @array-of-objects\n               (#-> (get @attribute)\n                    .to-string\n                    (.locale-compare (get #1 @attribute)))))\n\n\n(macro require! (...requires)\n       `(var ...@(inject [] requires\n                         (#(pairs node)\n                            (pairs.concat\n                             (if\n\n                              (and (even? pairs.length)\n                                   (node? node 'tick 'string))\n                              \n                              [ (merge-into (clone node)\n                                            { token (|> node transpile output-formatter (.slice 1 -1))\n                                              contents []\n                                              type 'literal })\n                                `(require @node) ]\n\n                                 (odd? pairs.length)\n                                 [ `(require @node) ]\n\n                                 [ node ]))))))\n"]}